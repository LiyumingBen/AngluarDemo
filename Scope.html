<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/angular.min.js"></script>
</head>
<body ng-app="myApp">
<h1>AngularJS Scope(作用域)</h1>
<p>
    Scope(作用域) 是应用在 HTML (视图) 和 JavaScript (控制器)之间的纽带。<br>

    Scope 是一个对象，有可用的方法和属性。<br>

    Scope 可应用在视图和控制器上。
</p>
<!--<div ng-app="myApp" ng-controller="myCtrl">

    <h1>{{carname}}</h1>

</div>

<script>
    var app = angular.module('myApp', []);

    app.controller('myCtrl', function ($scope) {
        $scope.carname = "Volvo";
        console.log($scope);
    });
</script>-->

<!--<div ng-app="myApp" ng-controller="myCtrl">
    <input ng-model="name">
    <h1>{{greeting}}</h1>
    <button ng-click='sayHello()'>点我</button>
</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope) {
        $scope.name = "Runoob";
        $scope.sayHello = function() {
            $scope.greeting = 'Hello ' + $scope.name + '!';
        };
    });
</script>-->

<!--<h1>Scope 作用范围</h1>
<p>当我们使用 ng-repeat 指令时，每个重复项都访问了当前的重复对象:</p>

<div ng-app="myApp" ng-controller="myCtrl">

    <ul>
        <li ng-repeat="x in names">{{x}}</li>
    </ul>

</div>

<script>
    var app = angular.module('myApp', []);

    app.controller('myCtrl', function($scope) {
        $scope.names = ["Jorn", "Jams", "Ben", "Liyuming"];
    });
</script>-->

<!--<h1>根作用域</h1>
<p>
    所有的应用都有一个 $rootScope，它可以作用在 ng-app 指令包含的所有 HTML 元素中。<br>

    $rootScope 可作用于整个应用中。是各个 controller 中 scope 的桥梁。用 rootscope 定义的值，可以在各个 controller 中使用。
</p>
<div ng-app="myApp" ng-controller="myCtrl">

    <h1>{{lastname}} 家族成员:</h1>

    <ul>
        <li ng-repeat="x in names">{{x}} {{lastname}}</li>
    </ul>

</div>

<script>
    var app = angular.module('myApp', []);

    app.controller('myCtrl', function($scope, $rootScope) {
        $scope.names = ["Emil", "Tobias", "Linus"];
        $rootScope.lastname = "Refsnes";
    });
</script>-->

<!--<h1>AngularJS 控制器</h1>
<p>
    AngularJS 控制器 控制 AngularJS 应用程序的数据。<br>

    AngularJS 控制器是常规的 JavaScript 对象。<br>

    AngularJS 应用程序被控制器控制。<br>

    ng-controller 指令定义了应用程序控制器。<br>

    控制器是 JavaScript 对象，由标准的 JavaScript 对象的构造函数 创建。<br>
</p>
<div ng-app="myApp" ng-controller="myCtrl">

    名: <input type="text" ng-model="firstName"><br>
    姓: <input type="text" ng-model="lastName"><br>
    <br>
    姓名: {{firstName + " " + lastName}}

</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope) {
        $scope.firstName = "John";
        $scope.lastName = "Doe";
    });
</script>
<strong>
    应用解析：

    AngularJS 应用程序由 ng-app 定义。应用程序在 &lt;!&ndash;<div>&ndash;&gt; 内运行。

    ng-controller="myCtrl" 属性是一个 AngularJS 指令。用于定义一个控制器。

    myCtrl 函数是一个 JavaScript 函数。

    AngularJS 使用$scope 对象来调用控制器。

    在 AngularJS 中， $scope 是一个应用对象(属于应用变量和函数)。

    控制器的 $scope （相当于作用域、控制范围）用来保存AngularJS Model(模型)的对象。

    控制器在作用域中创建了两个属性 (firstName 和 lastName)。

    ng-model 指令绑定输入域到控制器的属性（firstName 和 lastName）。
</strong>-->

<!--<h1>控制器方法</h1>
<div ng-app="myApp" ng-controller="personCtrl">

    名: <input type="text" ng-model="firstName"><br>
    姓: <input type="text" ng-model="lastName"><br>
    <br>
    姓名: {{fullName()}}

</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('personCtrl', function($scope) {
        $scope.firstName = "John";
        $scope.lastName = "Doe";
        $scope.fullName = function() {
            return $scope.firstName + " " + $scope.lastName;
        }
    });
</script>-->

<!--<h1>外部文件中的控制器</h1>
<div ng-app="myApp" ng-controller="personCtrl">

    名: <input type="text" ng-model="firstName"><br>
    姓: <input type="text" ng-model="lastName"><br>
    <br>
    姓名: {{firstName + " " + lastName}}
    <br>
    <h2>函数</h2>
    姓名: {{fullName()}}
</div>

<script src="controller/personController.js"></script>-->

<!--<div ng-app="myApp" ng-controller="namesCtrl">

    <ul>
        <li ng-repeat="x in names">
            {{ x.name + ', ' + x.country }}
        </li>
    </ul>

</div>

<script src="controller/namesController.js"></script>-->
<!--<h1>AngularJS model 中可以有多个控制器</h1>
<div ng-app="myApp">
    <div ng-controller="myCtrl1">
        名:  <input type="text" ng-model="firstName"><br>
        姓:  <input type="text" ng-model="lastName"><br>
        <br>
        姓名: {{firstName + " " + lastName}}
    </div>
    <br><br>
    <div ng-controller="myCtrl2">
        名:  <input type="text" ng-model="firstName"><br>
        姓:  <input type="text" ng-model="lastName"><br>
        <br>
        姓名: {{firstName + " " + lastName}}
    </div>
</div>
<script src="controller/multiController.js"></script>-->

<h1>关于 controller 中作用域的问题</h1>
<div ng-controller="myCtrl">       //输出结果
    {{first}}<br>                 //ctrl局部first
    {{$root.first}}<br>           //全局first
    {{second}}<br>                //全局second
    {{$root.second}}<br>          //全局second
</div>
<br>
<br>
<div ng-controller="myCtrl2">
    {{first}}<br>                //全局first
    {{$root.first}}<br>          //全局first
    {{second}}<br>              //ctrl2局部second
    {{$root.second}}            //全局second
</div>
<script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function ($scope,$rootScope) {
        $scope.first = 'ctrl局部first';
        $rootScope.first = '全局first';
    });
    app.controller('myCtrl2', function ($scope,$rootScope) {
        $scope.second = 'ctrl2局部second';
        $rootScope.second = '全局second';
    });
</script>
</body>
</html>

<!--
AngularJS 应用组成如下：

View(视图), 即 HTML。
Model(模型), 当前视图中可用的数据。
Controller(控制器), 即 JavaScript 函数，可以添加或修改属性。

scope 是模型。

scope 是一个 JavaScript 对象，带有属性和方法，这些属性和方法可以在视图和控制器中使用。

controller 中，如果局部 $scope 和 $rootScope 都存在，且有相同名字的变量，{{变量名}}
指局部变量而不是全局变量，作用域只有当前 controller；{{$root.变量名}} 是全局变量，在 ng-app=""
下任何一个 controller 中都能使用。如果没有 $scope, 只有 $rootScope，那么 {{变量名}}
和 {{$root.变量名}} 就没区别了。
-->